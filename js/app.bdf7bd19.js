(function(e){function t(t){for(var c,n,l=t[0],r=t[1],o=t[2],b=0,u=[];b<l.length;b++)n=l[b],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&u.push(i[n][0]),i[n]=0;for(c in r)Object.prototype.hasOwnProperty.call(r,c)&&(e[c]=r[c]);d&&d(t);while(u.length)u.shift()();return a.push.apply(a,o||[]),s()}function s(){for(var e,t=0;t<a.length;t++){for(var s=a[t],c=!0,l=1;l<s.length;l++){var r=s[l];0!==i[r]&&(c=!1)}c&&(a.splice(t--,1),e=n(n.s=s[0]))}return e}var c={},i={app:0},a=[];function n(t){if(c[t])return c[t].exports;var s=c[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=c,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)n.d(s,c,function(t){return e[t]}.bind(null,c));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],r=l.push.bind(l);l.push=t,l=l.slice();for(var o=0;o<l.length;o++)t(l[o]);var d=r;a.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"0347":function(e,t,s){},"05d4":function(e,t,s){},"0706":function(e,t,s){"use strict";s("1231")},"0ad6":function(e,t,s){"use strict";s("df37")},1231:function(e,t,s){},1552:function(e,t,s){"use strict";s("0347")},1757:function(e,t,s){"use strict";s("84b5")},"1a05":function(e,t,s){"use strict";s("f3f2")},"225f":function(e,t,s){"use strict";s("957c")},3038:function(e,t,s){},"47f7":function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);var c=s("7a23");function i(e,t,s,i,a,n){const l=Object(c["C"])("the-header"),r=Object(c["C"])("router-view");return Object(c["u"])(),Object(c["h"])(c["a"],null,[Object(c["k"])(l),Object(c["k"])(r,null,{default:Object(c["K"])(e=>[Object(c["k"])(c["c"],{name:"route",mode:"out-in"},{default:Object(c["K"])(()=>[(Object(c["u"])(),Object(c["f"])(Object(c["D"])(e.Component)))]),_:2},1024)]),_:1})],64)}var a=s("9355"),n=s.n(a);const l=e=>(Object(c["x"])("data-v-6bc7d323"),e=e(),Object(c["v"])(),e),r={class:"navbar navbar-expand-lg bg-light"},o={class:"container-fluid"},d=l(()=>Object(c["i"])("img",{width:"27",class:"mx-2 center",src:n.a},null,-1)),b=l(()=>Object(c["i"])("h1",{class:"mb-3 fs-3 fw-bold pt-3",href:"#"},"浪浪別哭",-1)),u=l(()=>Object(c["i"])("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[Object(c["i"])("span",{class:"navbar-toggler-icon"})],-1)),j={class:"collapse navbar-collapse justify-content-end",id:"navbarNav"},O={class:"navbar-nav px-md-5"},h={class:"nav-item"},p={class:"nav-link",href:"#"},m=Object(c["j"])("全部品種"),f={class:"nav-item"},v={class:"nav-link",href:"#"},g=Object(c["j"])("訊息");function k(e,t){const s=Object(c["C"])("router-link");return Object(c["u"])(),Object(c["h"])("nav",r,[Object(c["i"])("div",o,[d,b,u,Object(c["i"])("div",j,[Object(c["i"])("ul",O,[Object(c["i"])("li",h,[Object(c["i"])("a",p,[Object(c["k"])(s,{to:"/pets",class:"click"},{default:Object(c["K"])(()=>[m]),_:1})])]),Object(c["i"])("li",f,[Object(c["i"])("a",v,[Object(c["k"])(s,{to:"/requests",class:"click"},{default:Object(c["K"])(()=>[g]),_:1})])])])])])])}s("b92c");var y=s("6b0d"),V=s.n(y);const _={},F=V()(_,[["render",k],["__scopeId","data-v-6bc7d323"]]);var I=F,x={components:{TheHeader:I}};s("ef8f");const C=V()(x,[["render",i]]);var q=C,w=s("6605");const P=e=>(Object(c["x"])("data-v-793cc592"),e=e(),Object(c["v"])(),e),L={class:"imageCard"},B=["src"],$=P(()=>Object(c["i"])("h4",null,"聯繫請點擊下方按鈕",-1)),K={class:"d-flex justify-content-center"},R=Object(c["j"])(" 聯繫方式"),U={class:"base-card"};function S(e,t,s,i,a,n){const l=Object(c["C"])("base-card"),r=Object(c["C"])("base-button"),o=Object(c["C"])("router-view"),d=Object(c["C"])("base-badge");return Object(c["u"])(),Object(c["h"])("div",null,[Object(c["i"])("section",null,[Object(c["k"])(l,null,{default:Object(c["K"])(()=>[Object(c["i"])("div",L,[Object(c["i"])("img",{src:n.src,class:"petImage figure-img img-fluid rounded",width:"600"},null,8,B)]),Object(c["i"])("h2",null,Object(c["F"])(n.name),1),Object(c["i"])("h3",null,"出生日期:"+Object(c["F"])(n.born),1)]),_:1})]),Object(c["i"])("section",null,[Object(c["k"])(l,null,{default:Object(c["K"])(()=>[Object(c["i"])("header",null,[$,Object(c["i"])("div",K,[Object(c["k"])(r,{link:"",to:n.petsContactLink},{default:Object(c["K"])(()=>[R]),_:1},8,["to"])])]),Object(c["k"])(o,null,{default:Object(c["K"])(e=>[Object(c["k"])(c["c"],{name:"button",mode:"out-in"},{default:Object(c["K"])(()=>[(Object(c["u"])(),Object(c["f"])(Object(c["D"])(e.Component)))]),_:2},1024)]),_:1})]),_:1})]),Object(c["i"])("section",null,[Object(c["i"])("div",U,[(Object(c["u"])(!0),Object(c["h"])(c["a"],null,Object(c["A"])(n.states,e=>(Object(c["u"])(),Object(c["f"])(d,{class:"mt-2 mb-4",key:e,type:e,title:e},null,8,["type","title"]))),128)),Object(c["i"])("p",null,Object(c["F"])(n.description),1),Object(c["i"])("p",null,Object(c["F"])(n.detail),1)])])])}var D={props:["id"],data(){return{selectedPet:null,dialogIsVisible:!1}},computed:{petsContactLink(){return this.$route.path+"/contact"},name(){return this.selectedPet.name},born(){return this.selectedPet.born},states(){return this.selectedPet.states},description(){return this.selectedPet.description},detail(){return this.selectedPet.detail},src(){return this.selectedPet.src}},created(){this.selectedPet=this.$store.getters["pets/pets"].find(e=>e.id===this.id)}};s("fe36");const E=V()(D,[["render",S],["__scopeId","data-v-793cc592"]]);var T=E;const M={class:"controls"},H=Object(c["j"])("刷新頁面"),J=Object(c["j"])("登記浪浪"),N={key:0},z={key:1,class:"center"},A={key:2};function G(e,t,s,i,a,n){const l=Object(c["C"])("base-dialog"),r=Object(c["C"])("pets-filter"),o=Object(c["C"])("base-button"),d=Object(c["C"])("base-spinner"),b=Object(c["C"])("pets-item"),u=Object(c["C"])("base-card");return Object(c["u"])(),Object(c["h"])("div",null,[Object(c["k"])(l,{show:!!a.error,title:"錯誤回應",onClose:n.handleError},{default:Object(c["K"])(()=>[Object(c["i"])("p",null,Object(c["F"])(a.error),1)]),_:1},8,["show","onClose"]),Object(c["i"])("section",null,[Object(c["k"])(r,{onChangeFilter:n.setFilters},null,8,["onChangeFilter"])]),Object(c["i"])("section",null,[Object(c["k"])(u,null,{default:Object(c["K"])(()=>[Object(c["i"])("div",M,[Object(c["k"])(o,{mode:"outline",onClick:t[0]||(t[0]=e=>n.loadPets(!0))},{default:Object(c["K"])(()=>[H]),_:1}),n.isPet||a.isLoading?Object(c["g"])("",!0):(Object(c["u"])(),Object(c["f"])(o,{key:0,link:"",to:"/register"},{default:Object(c["K"])(()=>[J]),_:1}))]),a.isLoading?(Object(c["u"])(),Object(c["h"])("div",N,[Object(c["k"])(d)])):n.hasPets?(Object(c["u"])(),Object(c["h"])("ul",z,[(Object(c["u"])(!0),Object(c["h"])(c["a"],null,Object(c["A"])(n.filterPets,e=>(Object(c["u"])(),Object(c["f"])(b,{key:e.id,id:e.id,name:e.name,born:e.born,states:e.states,pet:e},null,8,["id","name","born","states","pet"]))),128))])):(Object(c["u"])(),Object(c["h"])("h3",A,"找不到相關浪浪"))]),_:1})])])}const Q=e=>(Object(c["x"])("data-v-02293685"),e=e(),Object(c["v"])(),e),W={class:"imageCard"},Y=["src"],X={class:"card-title"},Z=Q(()=>Object(c["i"])("hr",null,null,-1)),ee={class:"badge"},te={class:"actions"},se=Object(c["j"])("聯繫浪浪"),ce=Object(c["j"])("詳細訊息");function ie(e,t,s,i,a,n){const l=Object(c["C"])("base-badge"),r=Object(c["C"])("base-button");return Object(c["u"])(),Object(c["h"])("li",null,[Object(c["i"])("div",W,[Object(c["i"])("img",{src:s.pet.src,class:"petImage rounded",width:"600"},null,8,Y)]),Object(c["i"])("div",null,[Object(c["i"])("h3",X,Object(c["F"])(s.name),1),Object(c["i"])("h4",null,"出生日期:"+Object(c["F"])(s.born),1),Z,Object(c["i"])("div",ee,[(Object(c["u"])(!0),Object(c["h"])(c["a"],null,Object(c["A"])(s.states,e=>(Object(c["u"])(),Object(c["f"])(l,{key:e,type:e,title:e},null,8,["type","title"]))),128))])]),Object(c["i"])("div",te,[Object(c["k"])(r,{mode:"outline",link:"",to:n.petsContactLink},{default:Object(c["K"])(()=>[se]),_:1},8,["to"]),Object(c["k"])(r,{link:"",to:n.petsDetailLink},{default:Object(c["K"])(()=>[ce]),_:1},8,["to"])])])}function ae(e,t,s,i,a,n){return Object(c["u"])(),Object(c["h"])("span",{class:Object(c["q"])(["badge",s.type])},Object(c["F"])(n.text),3)}var ne={props:["type","title"],computed:{text(){return this.title}}};s("1757");const le=V()(ne,[["render",ae],["__scopeId","data-v-4994c3b2"]]);var re=le,oe={components:{BaseBadge:re},props:["id","name","born","states","src","pet"],computed:{petsContactLink(){return this.$route.path+"/"+this.id+"/contact"},petsDetailLink(){return this.$route.path+"/"+this.id}}};s("1a05");const de=V()(oe,[["render",ie],["__scopeId","data-v-02293685"]]);var be=de;const ue={key:0,open:""},je={key:0},Oe=Object(c["j"])("Close");function he(e,t,s,i,a,n){const l=Object(c["C"])("base-button");return Object(c["u"])(),Object(c["f"])(c["b"],{to:"body"},[s.show?(Object(c["u"])(),Object(c["h"])("div",{key:0,onClick:t[0]||(t[0]=(...e)=>n.tryClose&&n.tryClose(...e)),class:"backdrop"})):Object(c["g"])("",!0),Object(c["k"])(c["c"],{name:"dialog"},{default:Object(c["K"])(()=>[s.show?(Object(c["u"])(),Object(c["h"])("dialog",ue,[Object(c["i"])("header",null,[Object(c["B"])(e.$slots,"header",{},()=>[Object(c["i"])("h2",null,Object(c["F"])(s.title),1)],!0)]),Object(c["i"])("section",null,[Object(c["B"])(e.$slots,"default",{},void 0,!0)]),s.fixed?Object(c["g"])("",!0):(Object(c["u"])(),Object(c["h"])("menu",je,[Object(c["B"])(e.$slots,"actions",{},()=>[Object(c["k"])(l,{onClick:n.tryClose},{default:Object(c["K"])(()=>[Oe]),_:1},8,["onClick"])],!0)]))])):Object(c["g"])("",!0)]),_:3})])}var pe={props:{show:{type:Boolean,required:!0},title:{type:String,required:!1},fixed:{type:Boolean,required:!1,default:!1}},emits:["close"],methods:{tryClose(){this.fixed||this.$emit("close")}}};s("5e6d");const me=V()(pe,[["render",he],["__scopeId","data-v-48cedc16"]]);var fe=me,ve={components:{PetsItem:be,BaseDialog:fe},data(){return{isLoading:!1,error:null,activeFilters:{"男生":!0,"女生":!0,"未結紮":!0,"結紮":!0,"狗狗":!0,"貓貓":!0}}},computed:{isPet(){return this.$store.getters["pets/isPet"]},filterPets(){const e=this.$store.getters["pets/pets"];return e.filter(e=>!(!this.activeFilters.男生||!e.states.includes("男生"))||(!(!this.activeFilters.女生||!e.states.includes("女生"))||(!(!this.activeFilters.未結紮||!e.states.includes("未結紮"))||(!(!this.activeFilters.結紮||!e.states.includes("結紮"))||(!(!this.activeFilters.狗狗||!e.states.includes("狗狗"))||!(!this.activeFilters.貓貓||!e.states.includes("貓貓")))))))},hasPets(){return!this.isLoading&&this.$store.getters["pets/hasPets"]}},created(){this.loadPets()},methods:{setFilters(e){this.activeFilters=e},async loadPets(e=!1){this.isLoading=!0;try{await this.$store.dispatch("pets/loadPets",{forceRefresh:e})}catch(t){this.error=t.message||"網頁錯誤請修改"}this.isLoading=!1},handleError(){this.error=null}}};s("6e53");const ge=V()(ve,[["render",G],["__scopeId","data-v-68b56367"]]);var ke=ge;const ye=e=>(Object(c["x"])("data-v-6bedeb25"),e=e(),Object(c["v"])(),e),Ve=ye(()=>Object(c["i"])("div",{class:"base-card"},[Object(c["i"])("h2",null,"基本資料"),Object(c["i"])("p",null,"(Basic Information)")],-1));function _e(e,t,s,i,a,n){const l=Object(c["C"])("pets-from"),r=Object(c["C"])("base-card");return Object(c["u"])(),Object(c["h"])("section",null,[Ve,Object(c["k"])(r,null,{default:Object(c["K"])(()=>[Object(c["k"])(l,{onSaveData:n.saveData},null,8,["onSaveData"])]),_:1})])}const Fe=e=>(Object(c["x"])("data-v-b7545810"),e=e(),Object(c["v"])(),e),Ie=Fe(()=>Object(c["i"])("label",{for:"name"},"姓名：",-1)),xe={key:0},Ce=Fe(()=>Object(c["i"])("label",{for:"born"},"出生日期：",-1)),qe={key:0},we=Fe(()=>Object(c["i"])("label",{for:"description"},"敘述：",-1)),Pe={key:0},Le=Fe(()=>Object(c["i"])("label",{for:"detail"},"領養條件：",-1)),Be={key:0},$e=Fe(()=>Object(c["i"])("h3",null,"篩選條件：",-1)),Ke=Fe(()=>Object(c["i"])("label",{for:"男生"},"男生",-1)),Re=Fe(()=>Object(c["i"])("label",{for:"女生"},"女生",-1)),Ue=Fe(()=>Object(c["i"])("label",{for:"未結紮"},"未結紮",-1)),Se=Fe(()=>Object(c["i"])("label",{for:"結紮"},"結紮",-1)),De=Fe(()=>Object(c["i"])("label",{for:"狗狗"},"狗狗",-1)),Ee=Fe(()=>Object(c["i"])("label",{for:"貓貓"},"貓貓",-1)),Te={key:0},Me=Fe(()=>Object(c["i"])("label",{for:"src"},"照片：",-1)),He={key:0},Je={key:1},Ne=Object(c["j"])("確認");function ze(e,t,s,i,a,n){const l=Object(c["C"])("base-button");return Object(c["u"])(),Object(c["h"])("form",{onSubmit:t[22]||(t[22]=Object(c["M"])((...e)=>n.submitFrom&&n.submitFrom(...e),["prevent"]))},[Object(c["i"])("div",{class:Object(c["q"])(["form-control",{invalid:!a.name.isValid}])},[Ie,Object(c["L"])(Object(c["i"])("input",{type:"text",id:"name","onUpdate:modelValue":t[0]||(t[0]=e=>a.name.val=e),onBlur:t[1]||(t[1]=e=>n.clearValidity("name")),placeholder:"例如:王小明"},null,544),[[c["I"],a.name.val,void 0,{trim:!0}]]),a.name.isValid?Object(c["g"])("",!0):(Object(c["u"])(),Object(c["h"])("p",xe,"名字不能為空白"))],2),Object(c["i"])("div",{class:Object(c["q"])(["form-control",{invalid:!a.born.isValid}])},[Ce,Object(c["L"])(Object(c["i"])("input",{type:"text",id:"born","onUpdate:modelValue":t[2]||(t[2]=e=>a.born.val=e),onBlur:t[3]||(t[3]=e=>n.clearValidity("born")),placeholder:"例如：2010年9月9日"},null,544),[[c["I"],a.born.val,void 0,{trim:!0}]]),a.born.isValid?Object(c["g"])("",!0):(Object(c["u"])(),Object(c["h"])("p",qe,"出生日期不能為空白"))],2),Object(c["i"])("div",{class:Object(c["q"])(["form-control",{invalid:!a.description.isValid}])},[we,Object(c["L"])(Object(c["i"])("textarea",{name:"description",rows:"5","onUpdate:modelValue":t[4]||(t[4]=e=>a.description.val=e),placeholder:"例如：在哪裡撿到...",onBlur:t[5]||(t[5]=e=>n.clearValidity("description"))},"\r\n      ",544),[[c["I"],a.description.val,void 0,{trim:!0}]]),a.description.isValid?Object(c["g"])("",!0):(Object(c["u"])(),Object(c["h"])("p",Pe,"敘述不能為空白"))],2),Object(c["i"])("div",{class:Object(c["q"])(["form-control",{invalid:!a.detail.isValid}])},[Le,Object(c["L"])(Object(c["i"])("textarea",{disabled:"",name:"detail",rows:"9","onUpdate:modelValue":t[6]||(t[6]=e=>a.detail.val=e),onBlur:t[7]||(t[7]=e=>n.clearValidity("detail"))},"\r\n        ",544),[[c["I"],a.detail.val,void 0,{trim:!0}]]),a.detail.isValid?Object(c["g"])("",!0):(Object(c["u"])(),Object(c["h"])("p",Be,"領養條件不能為空白"))],2),Object(c["i"])("div",{class:Object(c["q"])(["form-control",{invalid:!a.states.isValid}])},[$e,Object(c["i"])("div",null,[Object(c["L"])(Object(c["i"])("input",{type:"checkbox",id:"男生",value:"男生","onUpdate:modelValue":t[8]||(t[8]=e=>a.states.val=e),onBlur:t[9]||(t[9]=e=>n.clearValidity("states"))},null,544),[[c["H"],a.states.val]]),Ke]),Object(c["i"])("div",null,[Object(c["L"])(Object(c["i"])("input",{type:"checkbox",id:"女生",value:"女生","onUpdate:modelValue":t[10]||(t[10]=e=>a.states.val=e),onBlur:t[11]||(t[11]=e=>n.clearValidity("states"))},null,544),[[c["H"],a.states.val]]),Re]),Object(c["i"])("div",null,[Object(c["L"])(Object(c["i"])("input",{type:"checkbox",id:"未結紮",value:"未結紮","onUpdate:modelValue":t[12]||(t[12]=e=>a.states.val=e),onBlur:t[13]||(t[13]=e=>n.clearValidity("states"))},null,544),[[c["H"],a.states.val]]),Ue]),Object(c["i"])("div",null,[Object(c["L"])(Object(c["i"])("input",{type:"checkbox",id:"結紮",value:"結紮","onUpdate:modelValue":t[14]||(t[14]=e=>a.states.val=e),onBlur:t[15]||(t[15]=e=>n.clearValidity("states"))},null,544),[[c["H"],a.states.val]]),Se]),Object(c["i"])("div",null,[Object(c["L"])(Object(c["i"])("input",{type:"checkbox",id:"狗狗",value:"狗狗","onUpdate:modelValue":t[16]||(t[16]=e=>a.states.val=e),onBlur:t[17]||(t[17]=e=>n.clearValidity("states"))},null,544),[[c["H"],a.states.val]]),De]),Object(c["i"])("div",null,[Object(c["L"])(Object(c["i"])("input",{type:"checkbox",id:"貓貓",value:"貓貓","onUpdate:modelValue":t[18]||(t[18]=e=>a.states.val=e),onBlur:t[19]||(t[19]=e=>n.clearValidity("states"))},null,544),[[c["H"],a.states.val]]),Ee]),a.states.isValid?Object(c["g"])("",!0):(Object(c["u"])(),Object(c["h"])("p",Te,"請至少選擇一項篩選條件")),Object(c["i"])("div",{class:Object(c["q"])(["img",{invalid:!a.src.isValid}])},[Me,Object(c["L"])(Object(c["i"])("textarea",{placeholder:"例如：http://...",name:"src",rows:"2","onUpdate:modelValue":t[20]||(t[20]=e=>a.src.val=e),onBlur:t[21]||(t[21]=e=>n.clearValidity("src"))},"\r\n      ",544),[[c["I"],a.src.val,void 0,{trim:!0}]]),a.src.isValid?Object(c["g"])("",!0):(Object(c["u"])(),Object(c["h"])("p",He,"照片不能為空白"))],2),a.fromIsValid?Object(c["g"])("",!0):(Object(c["u"])(),Object(c["h"])("p",Je,"請修復上面錯誤並再次執行"))],2),Object(c["k"])(l,{class:"mx-3"},{default:Object(c["K"])(()=>[Ne]),_:1})],32)}var Ae={emits:["save-data"],data(){return{name:{val:"",isValid:!0},born:{val:"",isValid:!0},description:{val:"",isValid:!0},detail:{val:"領養條件：\n您好，感謝您願意給浪浪機會但為了避免棄養退養發生，領養有以下《基本條件規定》：\n1.必須年滿25歲\n2.有穩定工作\n3.住雅/套房無法領養狗\n4.居住成員全數贊成養狗貓\n5.不接受放養或關籠飼養\n6.一定要結紮",isValid:!0},states:{val:[],isValid:!0},src:{val:"",isValid:!0},fromIsValid:!0}},methods:{clearValidity(e){this[e].isValid=!0},validateFrom(){this.fromIsValid=!0,""===this.name.val&&(this.name.isValid=!1,this.fromIsValid=!1),""===this.born.val&&(this.born.isValid=!1,this.fromIsValid=!1),""===this.description.val&&(this.description.isValid=!1,this.fromIsValid=!1),""===this.detail.val&&(this.detail.isValid=!1,this.fromIsValid=!1),0===this.states.val.length&&(this.states.isValid=!1,this.fromIsValid=!1),""===this.src.val&&(this.src.isValid=!1,this.fromIsValid=!1)},submitFrom(){if(this.validateFrom(),!this.fromIsValid)return;const e={name:this.name.val,born:this.born.val,description:this.description.val,detail:this.detail.val,states:this.states.val,src:this.src.val};this.$emit("save-data",e)}}};s("570d");const Ge=V()(Ae,[["render",ze],["__scopeId","data-v-b7545810"]]);var Qe=Ge,We={components:{PetsFrom:Qe},methods:{saveData(e){this.$store.dispatch("pets/registerPet",e),this.$router.replace("/pets")}}};s("1552");const Ye=V()(We,[["render",_e],["__scopeId","data-v-6bedeb25"]]);var Xe=Ye;const Ze=e=>(Object(c["x"])("data-v-6ce7d6ef"),e=e(),Object(c["v"])(),e),et=Ze(()=>Object(c["i"])("label",{for:"email"},"email：",-1)),tt={key:0},st=Ze(()=>Object(c["i"])("label",{for:"message"},"訊息",-1)),ct={key:0},it={class:"action"},at=Object(c["j"])("傳送訊息");function nt(e,t,s,i,a,n){const l=Object(c["C"])("base-button");return Object(c["u"])(),Object(c["h"])("form",{onSubmit:t[4]||(t[4]=Object(c["M"])((...e)=>n.submitFrom&&n.submitFrom(...e),["prevent"]))},[Object(c["i"])("div",{class:Object(c["q"])(["form-control",{invalid:!a.email.isValid}])},[et,Object(c["L"])(Object(c["i"])("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=e=>a.email.val=e),onBlur:t[1]||(t[1]=e=>n.clearValidity("email"))},null,544),[[c["I"],a.email.val,void 0,{trim:!0}]]),a.email.isValid?Object(c["g"])("",!0):(Object(c["u"])(),Object(c["h"])("p",tt,"請輸入正確的email"))],2),Object(c["i"])("div",{class:Object(c["q"])(["form-control",{invalid:!a.message.isValid}])},[st,Object(c["L"])(Object(c["i"])("textarea",{id:"message",rows:"5","onUpdate:modelValue":t[2]||(t[2]=e=>a.message.val=e),onBlur:t[3]||(t[3]=e=>n.clearValidity("message"))},null,544),[[c["I"],a.message.val,void 0,{trim:!0}]]),a.message.isValid?Object(c["g"])("",!0):(Object(c["u"])(),Object(c["h"])("p",ct,"請勿輸入空白訊息"))],2),Object(c["i"])("div",it,[Object(c["k"])(l,null,{default:Object(c["K"])(()=>[at]),_:1})])],32)}var lt={data(){return{email:{val:"",isValid:!0},message:{val:"",isValid:!0},formIsValid:!0}},methods:{clearValidity(e){this[e].isValid=!0},validateFrom(){if(this.formIsValid=!0,""!==this.email.val&&this.email.val.includes("@")||(this.email.isValid=!1,this.formIsValid=!1),""===this.message.val)return this.message.isValid=!1,void(this.formIsValid=!1);this.$store.dispatch("requests/contactPet",{email:this.email,message:this.message,petId:this.$route.params.id}),this.$router.replace("/pets")},submitFrom(){this.validateFrom()}}};s("0706");const rt=V()(lt,[["render",nt],["__scopeId","data-v-6ce7d6ef"]]);var ot=rt;const dt=e=>(Object(c["x"])("data-v-5a89f4bf"),e=e(),Object(c["v"])(),e),bt=dt(()=>Object(c["i"])("header",null,[Object(c["i"])("h2",null,"訊息頁面"),Object(c["i"])("p",{class:"message-page"},"(Message Page)")],-1)),ut={key:1},jt={key:2,class:"d-flex flex-column align-items-center message"},Ot=dt(()=>Object(c["i"])("p",null,"你未收到任何回覆",-1)),ht=dt(()=>Object(c["i"])("img",{src:"https://media1.giphy.com/media/zitz7FTWwbDIYpm8Gn/giphy.gif?cid=ecf05e47q08rnazuodmnex8t1arsebu34kukvzpyg0923iwt&rid=giphy.gif&ct=s",width:"300",alt:""},null,-1)),pt=[Ot,ht];function mt(e,t,s,i,a,n){const l=Object(c["C"])("base-dialog"),r=Object(c["C"])("base-spinner"),o=Object(c["C"])("request-item"),d=Object(c["C"])("base-card");return Object(c["u"])(),Object(c["h"])("div",null,[Object(c["k"])(l,{show:!!a.error,title:"錯誤回應",onClose:n.handError},{default:Object(c["K"])(()=>[Object(c["i"])("p",null,Object(c["F"])(a.error),1)]),_:1},8,["show","onClose"]),Object(c["i"])("section",null,[Object(c["k"])(d,{class:"d-flex flex-column align-items-center"},{default:Object(c["K"])(()=>[bt,a.isLoading?(Object(c["u"])(),Object(c["f"])(r,{key:0})):n.hasRequests&&!a.isLoading?(Object(c["u"])(),Object(c["h"])("ul",ut,[(Object(c["u"])(!0),Object(c["h"])(c["a"],null,Object(c["A"])(n.receivedRequest,e=>(Object(c["u"])(),Object(c["f"])(o,{key:e.id,email:e.userEmail,message:e.message},null,8,["email","message"]))),128))])):(Object(c["u"])(),Object(c["h"])("div",jt,pt))]),_:1})])])}const ft=["href"];function vt(e,t,s,i,a,n){return Object(c["u"])(),Object(c["h"])("li",null,[Object(c["i"])("div",null,[Object(c["i"])("a",{href:n.emailLink},Object(c["F"])(s.email),9,ft)]),Object(c["i"])("p",null,Object(c["F"])(s.message),1)])}var gt={props:["email","message"],computed:{emailLink(){return"https://mail.google.com/mail/u/0/#inbox"+this.email}}};s("8ff2");const kt=V()(gt,[["render",vt],["__scopeId","data-v-89ebb0f4"]]);var yt=kt;const Vt=e=>(Object(c["x"])("data-v-7c73e31f"),e=e(),Object(c["v"])(),e),_t=Vt(()=>Object(c["i"])("div",{class:"spinner"},[Object(c["i"])("div",{class:"lds-roller"},[Object(c["i"])("div"),Object(c["i"])("div"),Object(c["i"])("div"),Object(c["i"])("div"),Object(c["i"])("div"),Object(c["i"])("div"),Object(c["i"])("div"),Object(c["i"])("div")])],-1)),Ft=Vt(()=>Object(c["i"])("p",{class:"d-flex text-center justify-content-center"},"加載中",-1));function It(e,t){return Object(c["u"])(),Object(c["h"])(c["a"],null,[_t,Ft],64)}s("6a66");const xt={},Ct=V()(xt,[["render",It],["__scopeId","data-v-7c73e31f"]]);var qt=Ct,wt={components:{RequestItem:yt,BaseDialog:fe,BaseSpinner:qt},data(){return{isLoading:!1,error:null}},computed:{receivedRequest(){return this.$store.getters["requests/requests"]},hasRequests(){return this.$store.getters["requests/hasRequests"]}},created(){this.loadRequest()},methods:{async loadRequest(){this.isLoading=!0;try{await this.$store.dispatch("requests/fetchRequests")}catch(e){this.error=e.message||"錯誤訊息"}this.isLoading=!1},handError(){this.error=null}}};s("0ad6");const Pt=V()(wt,[["render",mt],["__scopeId","data-v-5a89f4bf"]]);var Lt=Pt;const Bt=Object(w["a"])({history:Object(w["b"])(),routes:[{path:"/",redirect:"/pets"},{path:"/pets",component:ke},{path:"/pets/:id",component:T,props:!0,children:[{path:"contact",component:ot}]},{path:"/register",component:Xe},{path:"/requests",component:Lt},{path:"/:notFound(.*)",component:ke}]});var $t=Bt,Kt=s("5502"),Rt={registerPet(e,t){e.pets.push(t)},setPets(e,t){e.pets=t},setFetchTimestamp(e){e.lastFetch=(new Date).getTime()}},Ut=(s("d9e2"),{async registerPet(e,t){const s=e.rootGetters.userId,c={name:t.name,born:t.born,description:t.description,detail:t.detail,states:t.states,src:t.src},i=await fetch(`https://vue-http-demo-3843c-default-rtdb.firebaseio.com/pets/${s}.json`,{method:"PUT",body:JSON.stringify(c)});i.ok,e.commit("registerPet",{...c,id:s})},async loadPets(e,t){if(!t.forceRefresh&&!e.getters.shouldUpdate)return;const s=await fetch("https://vue-http-demo-3843c-default-rtdb.firebaseio.com/pets.json"),c=await s.json();if(!s.ok){const e=new Error(s.message||"錯誤的Fetch");throw e}const i=[];for(const a in c){const e={id:a,name:c[a].name,born:c[a].born,description:c[a].description,detail:c[a].detail,states:c[a].states,src:c[a].src};i.push(e)}e.commit("setPets",i),e.commit("setFetchTimestamp")}}),St={pets(e){return e.pets},hasPets(e){return e.pets&&e.pets.length>0},isPet(e,t,s,c){const i=t.pets,a=c.userId;return i.some(e=>e.id===a)},shouldUpdate(e){const t=e.lastFetch;if(!t)return!0;const s=(new Date).getTime();return(s-t)/1e3>60}},Dt={namespaced:!0,state(){return{lastFetch:null,pets:[{id:"c1",name:"暖暖",born:"約2022年6月出生",states:["女生","未結紮","狗狗"],description:"早在南投山上有一堆幼犬，山上環境惡劣，原本愛媽想救援又因山上地勢關係無法捕捉，",detail:"領養條件：您好，感謝您願意給浪浪機會但為了避免棄養退養發生，領養有以下《基本條件規定》：1.必須年滿25歲2.有穩定工作3.住雅/套房無法領養狗4.居住成員全數贊成養狗/貓5.不接受放養或關籠飼養 6.一定要結紮",hourlyRate:30,src:"https://i.ytimg.com/vi/MPV2METPeJU/maxresdefault.jpg"},{id:"c2",name:"太陽",born:"約2019年出生",states:["男生","未結紮","狗狗"],description:"太陽在還是幼犬的時候被愛媽收養。之後被蘢養在狹小的鐵籠裡直到兩歲。被救援時已經被關到腳變形、皮膚潰爛跟皮包骨。 ",detail:"領養條件：您好，感謝您願意給浪浪機會但為了避免棄養退養發生，領養有以下《基本條件規定》：1.必須年滿25歲2.有穩定工作3.住雅/套房無法領養狗4.居住成員全數贊成養狗/貓5.不接受放養或關籠飼養 6.一定要結紮",src:"https://kb.rspca.org.au/wp-content/uploads/2021/07/collie-beach-bokeh.jpg"},{id:"c3",name:"鍋巴",born:"約2019年出生",states:["男生","結紮","貓貓"],description:"鍋巴生性膽小，除了和公園的小黑貓一起玩耍，和其他浪貓都是敬而遠之。但小黑有一天消失了，從此在市場孤伶伶的生活，但也開始對熟悉的餵養人親人又撒嬌。 ",detail:"領養條件：您好，感謝您願意給浪浪機會但為了避免棄養退養發生，領養有以下《基本條件規定》：1.必須年滿25歲2.有穩定工作3.住雅/套房無法領養狗4.居住成員全數贊成養狗/貓5.不接受放養或關籠飼養 6.一定要結紮",hourlyRate:30,src:"http://etoile.co.jp/wp-content/uploads/2020/07/shutterstock_572338033.jpg"}]}},mutations:Rt,actions:Ut,getters:St},Et={addRequest(e,t){e.requests.push(t)},setRequest(e,t){e.requests=t}},Tt={requests(e,t,s,c){const i=c.userId;return e.requests.filter(e=>e.petId===i)},hasRequests(e,t){return t.requests&&t.requests.length>0}},Mt={async contactPet(e,t){const s={userEmail:t.email.val,message:t.message.val},c=await fetch(`https://vue-http-demo-3843c-default-rtdb.firebaseio.com/requests/${t.petId}.json`,{method:"POST",body:JSON.stringify(s)}),i=await c.json();if(!c.ok){const e=new Error(i.message||"錯誤的訊息，資料上傳失敗");throw e}s.id=i.name.val,s.petId=t.petId,e.commit("addRequest",s)},async fetchRequests(e){const t=e.rootGetters.userId,s=await fetch(`https://vue-http-demo-3843c-default-rtdb.firebaseio.com/requests/${t}.json`),c=await s.json();if(!s.ok){const e=new Error(c.message||"錯誤的訊息，資料請求失敗");throw e}const i=[];for(const a in c){const e={id:a,petId:t,userEmail:c[a].userEmail,message:c[a].message};i.push(e)}e.commit("setRequest",i)}},Ht={namespaced:!0,state(){return{requests:[]}},mutations:Et,actions:Mt,getters:Tt};const Jt=Object(Kt["a"])({modules:{pets:Dt,requests:Ht},state(){return{userId:"c4"}},getters:{userId(e){return e.userId}}});var Nt=Jt;const zt={class:"Card"};function At(e,t){return Object(c["u"])(),Object(c["h"])("div",zt,[Object(c["B"])(e.$slots,"default",{},void 0,!0)])}s("f411");const Gt={},Qt=V()(Gt,[["render",At],["__scopeId","data-v-a8c8595a"]]);var Wt=Qt;function Yt(e,t,s,i,a,n){const l=Object(c["C"])("router-link");return Object(c["u"])(),Object(c["h"])("div",null,[s.link?(Object(c["u"])(),Object(c["f"])(l,{key:1,to:s.to,class:Object(c["q"])(s.mode)},{default:Object(c["K"])(()=>[Object(c["B"])(e.$slots,"default",{},void 0,!0)]),_:3},8,["to","class"])):(Object(c["u"])(),Object(c["h"])("button",{key:0,class:Object(c["q"])(s.mode)},[Object(c["B"])(e.$slots,"default",{},void 0,!0)],2))])}var Xt={props:{mode:{type:String,required:!1,default:null},link:{type:Boolean,required:!1,default:!1},to:{type:String,required:!1,default:"/"}}};s("ee7b");const Zt=V()(Xt,[["render",Yt],["__scopeId","data-v-67482226"]]);var es=Zt;const ts=e=>(Object(c["x"])("data-v-40734252"),e=e(),Object(c["v"])(),e),ss={class:"card"},cs=ts(()=>Object(c["i"])("h2",null,"查詢浪浪",-1)),is=ts(()=>Object(c["i"])("p",null,"(Pet Query)",-1)),as={class:"d-flex justify-content-center"},ns={class:"form-check form-check-inline"},ls=ts(()=>Object(c["i"])("label",{for:"男生",class:"form-check-label"},"男生",-1)),rs={class:"form-check form-check-inline"},os=ts(()=>Object(c["i"])("label",{for:"女生",class:"form-check-label"},"女生",-1)),ds={class:"form-check form-check-inline"},bs=ts(()=>Object(c["i"])("label",{for:"狗狗",class:"form-check-label"},"狗狗",-1)),us={class:"form-check form-check-inline"},js=ts(()=>Object(c["i"])("label",{for:"貓貓",class:"form-check-label"},"貓貓",-1)),Os={class:"form-check form-check-inline"},hs=ts(()=>Object(c["i"])("label",{for:"未結紮",class:"form-check-label"},"未結紮",-1)),ps={class:"form-check form-check-inline"},ms=ts(()=>Object(c["i"])("label",{for:"結紮",class:"form-check-label"},"結紮",-1));function fs(e,t,s,i,a,n){return Object(c["u"])(),Object(c["h"])("div",ss,[cs,is,Object(c["i"])("div",as,[Object(c["i"])("div",ns,[Object(c["i"])("input",{type:"checkbox",id:"男生",checked:"",onChange:t[0]||(t[0]=(...e)=>n.setFilter&&n.setFilter(...e)),class:"form-check-input"},null,32),ls]),Object(c["i"])("div",rs,[Object(c["i"])("input",{type:"checkbox",id:"女生",checked:"",onChange:t[1]||(t[1]=(...e)=>n.setFilter&&n.setFilter(...e)),class:"form-check-input"},null,32),os]),Object(c["i"])("div",ds,[Object(c["i"])("input",{type:"checkbox",id:"狗狗",checked:"",onChange:t[2]||(t[2]=(...e)=>n.setFilter&&n.setFilter(...e)),class:"form-check-input"},null,32),bs]),Object(c["i"])("div",us,[Object(c["i"])("input",{type:"checkbox",id:"貓貓",checked:"",onChange:t[3]||(t[3]=(...e)=>n.setFilter&&n.setFilter(...e)),class:"form-check-input"},null,32),js]),Object(c["i"])("div",Os,[Object(c["i"])("input",{type:"checkbox",id:"未結紮",checked:"",onChange:t[4]||(t[4]=(...e)=>n.setFilter&&n.setFilter(...e)),class:"form-check-input"},null,32),hs]),Object(c["i"])("div",ps,[Object(c["i"])("input",{type:"checkbox",id:"結紮",checked:"",onChange:t[5]||(t[5]=(...e)=>n.setFilter&&n.setFilter(...e)),class:"form-check-input"},null,32),ms])])])}var vs={emits:["change-filter"],data(){return{filters:{"男生":!0,"女生":!0,"未結紮":!0,"結紮":!0,"狗狗":!0,"貓貓":!0}}},methods:{setFilter(e){const t=e.target.id,s=e.target.checked,c={...this.filters,[t]:s};this.filters=c,this.$emit("change-filter",c)}}};s("225f");const gs=V()(vs,[["render",fs],["__scopeId","data-v-40734252"]]);var ks=gs;s("f9e3"),s("4989"),s("10ba"),s("aa99"),s("48ae");const ys=Object(c["e"])(q);ys.use($t),ys.use(Nt),ys.component("base-card",Wt),ys.component("base-button",es),ys.component("base-badge",re),ys.component("pets-filter",ks),ys.component("base-spinner",qt),ys.component("bas-dialog",fe),ys.mount("#app")},"570d":function(e,t,s){"use strict";s("ed5b")},"5e6d":function(e,t,s){"use strict";s("47f7")},"6a66":function(e,t,s){"use strict";s("3038")},"6e53":function(e,t,s){"use strict";s("e97f")},"84b5":function(e,t,s){},"8b6c":function(e,t,s){},"8ff2":function(e,t,s){"use strict";s("05d4")},9355:function(e,t,s){e.exports=s.p+"img/未命名-1.44eef1ef.png"},"957c":function(e,t,s){},b92c:function(e,t,s){"use strict";s("8b6c")},da8b:function(e,t,s){},db92:function(e,t,s){},df37:function(e,t,s){},e2ee:function(e,t,s){},e97f:function(e,t,s){},ed5b:function(e,t,s){},ee7b:function(e,t,s){"use strict";s("e2ee")},ef8f:function(e,t,s){"use strict";s("db92")},f3f2:function(e,t,s){},f411:function(e,t,s){"use strict";s("da8b")},f728:function(e,t,s){},fe36:function(e,t,s){"use strict";s("f728")}});
//# sourceMappingURL=app.bdf7bd19.js.map